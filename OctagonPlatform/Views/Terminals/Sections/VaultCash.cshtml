@model OctagonPlatform.Models.FormsViewModels.TerminalVaultCashVM
@{
    if (ViewBag.Error != null)
    {
        <p class="alert alert-danger">
            <strong>Error: @ViewBag.Error</strong>
        </p>
    }
}

@if (Model.VaultCash == null)
{       //pendiente validar en el contralador que el usuario no pueda add un vaultcash mas a la terminal.
    <p>
        @Ajax.ActionLink("Add", "Create", "VaultCash", new { id = Model.Id },
                   new AjaxOptions
                   {
                       UpdateTargetId = "AddVaultCash",
                       LoadingElementId = "loading3",
                       InsertionMode = InsertionMode.Replace,
                       HttpMethod = "Get"
                   },
                   htmlAttributes: new
                   {
                       @class = "btn btn-info",
                       data_toggle = "modal",
                       data_target = "#AddVaultCash"
                   })
    </p>
}

    <table id="vaultcash" class="table table-striped table-hover table-bordered">
        <thead class="thead-blue">
            <tr>
                <th>Bank Acc</th>
                <th>Bank Name</th>
                <th>Effective Date</th>
                <th>Stop Date</th>
            </tr>
        </thead>
        @if (Model.VaultCash != null)
        {
            <tbody>
                <tr>
                    <td>@Model.VaultCash.BankAccount.NickName</td>
                    <td>@Model.VaultCash.BankAccount.BankName</td>
                    <td>@Model.VaultCash.StartDate.ToShortDateString()</td>
                    <td>@Model.VaultCash.StopDate.ToShortDateString()</td>
                    <td>
                        <i class="glyphicon glyphicon-edit"></i> @Ajax.ActionLink("Edit", "Edit", "VaultCash",
                                                                 new { id = Model.VaultCash.Id },
                           new AjaxOptions
                           {
                               UpdateTargetId = "AddVaultCash",
                               LoadingElementId = "loading3",
                               InsertionMode = InsertionMode.Replace,
                               HttpMethod = "Get"
                           },
                           htmlAttributes: new
                           {
                               @class = "btn link",
                               data_toggle = "modal",
                               data_target = "#AddVaultCash"
                           })
                    </td>
                    <td>
                        <i class="glyphicon glyphicon-trash"></i> @Html.ActionLink(
                                                                 linkText: "Delete",
                                                                 actionName: "Delete",
                                                                 controllerName: "VaultCash",
                                                                 routeValues: new
                                                                 {
                                                                     id = Model.VaultCash.Id
                                                                 },
                                                                 htmlAttributes: null)
                    </td>
                </tr>
            </tbody>
        }
    </table>